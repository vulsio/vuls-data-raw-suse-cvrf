{
	"document_title": "Security update for postgresql94",
	"document_type": "SUSE Patch",
	"document_publisher": {
		"type": "Vendor",
		"contact_details": "security@suse.de",
		"issuing_authority": "SUSE Security Team"
	},
	"document_tracking": {
		"identification": {
			"id": "openSUSE-SU-2017:1772-1"
		},
		"status": "Final",
		"version": "1",
		"revision_history": {
			"revision": {
				"number": "1",
				"date": "2017-07-04T15:25:35Z",
				"description": "current"
			}
		},
		"initial_release_date": "2017-07-04T15:25:35Z",
		"current_release_date": "2017-07-04T15:25:35Z",
		"generator": {
			"engine": "cve-database/bin/generate-cvrf.pl",
			"date": "2017-02-24T01:00:00Z"
		}
	},
	"document_notes": [
		{
			"text": "Security update for postgresql94",
			"title": "Topic",
			"type": "Summary"
		},
		{
			"text": "This update for postgresql94 to 9.4.12 fixes the following issues:\n\nUpstream changelogs:\n\n- https://www.postgresql.org/docs/9.4/static/release-9-4-12.html\n- https://www.postgresql.org/docs/9.4/static/release-9-4-11.html\n- https://www.postgresql.org/docs/9.4/static/release-9-4-10.html\n\nSecurity issues fixed:\n\n* CVE-2017-7486: Restrict visibility of\n  pg_user_mappings.umoptions, to protect passwords stored as\n  user mapping options. (bsc#1037624)\n\n  Please note that manual action is needed to fix this in existing databases\n  See the upstream release notes for details.\n* CVE-2017-7485: recognize PGREQUIRESSL variable\n  again. (bsc#1038293)\n* CVE-2017-7484: Prevent exposure of statistical\n  information via leaky operators. (bsc#1037603)\n\nChanges in version 9.4.12:\n\n* Build corruption with CREATE INDEX CONCURRENTLY\n* Fixes for visibility and write-ahead-log stability\n\nChanges in version 9.4.10:\n\n* Fix WAL-logging of truncation of relation free space maps and\n  visibility maps\n* Fix incorrect creation of GIN index WAL records on big-endian\n  machines\n* Fix SELECT FOR UPDATE/SHARE to correctly lock tuples that have\n  been updated by a subsequently-aborted transaction\n* Fix EvalPlanQual rechecks involving CTE scans\n* Fix improper repetition of previous results from hashed\n  aggregation in a subquery\n\nThe libraries libpq and libecpg are now supplied by postgresql 9.6.\n\nThis update was imported from the SUSE:SLE-12:Update update project.",
			"title": "Details",
			"type": "General"
		},
		{
			"text": "The CVRF data is provided by SUSE under the Creative Commons License 4.0 with Attribution (CC-BY-4.0).",
			"title": "Terms of Use",
			"type": "Legal Disclaimer"
		}
	],
	"documentdistribution": "Copyright SUSE LLC under the Creative Commons License 4.0 with Attribution (CC-BY-4.0)",
	"document_references": [
		{
			"type": "Self",
			"url": "https://lists.opensuse.org/opensuse-updates/2017-07/msg00016.html",
			"description": "E-Mail link for openSUSE-SU-2017:1772-1"
		},
		{
			"type": "Self",
			"url": "https://www.suse.com/support/security/rating/",
			"description": "SUSE Security Ratings"
		}
	],
	"product_tree": {
		"branch": [
			{
				"type": "Product Family",
				"name": "openSUSE Leap 42.2",
				"branch": [
					{
						"type": "Product Name",
						"name": "openSUSE Leap 42.2",
						"full_product_name": {
							"text": "openSUSE Leap 42.2",
							"product_id": "openSUSE Leap 42.2"
						}
					}
				],
				"full_product_name": {}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-9.4.12-9.6.1",
					"product_id": "postgresql94-9.4.12-9.6.1"
				}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-contrib-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-contrib-9.4.12-9.6.1",
					"product_id": "postgresql94-contrib-9.4.12-9.6.1"
				}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-devel-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-devel-9.4.12-9.6.1",
					"product_id": "postgresql94-devel-9.4.12-9.6.1"
				}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-docs-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-docs-9.4.12-9.6.1",
					"product_id": "postgresql94-docs-9.4.12-9.6.1"
				}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-libs-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-libs-9.4.12-9.6.1",
					"product_id": "postgresql94-libs-9.4.12-9.6.1"
				}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-plperl-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-plperl-9.4.12-9.6.1",
					"product_id": "postgresql94-plperl-9.4.12-9.6.1"
				}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-plpython-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-plpython-9.4.12-9.6.1",
					"product_id": "postgresql94-plpython-9.4.12-9.6.1"
				}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-pltcl-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-pltcl-9.4.12-9.6.1",
					"product_id": "postgresql94-pltcl-9.4.12-9.6.1"
				}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-server-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-server-9.4.12-9.6.1",
					"product_id": "postgresql94-server-9.4.12-9.6.1"
				}
			},
			{
				"type": "Product Version",
				"name": "postgresql94-test-9.4.12-9.6.1",
				"full_product_name": {
					"text": "postgresql94-test-9.4.12-9.6.1",
					"product_id": "postgresql94-test-9.4.12-9.6.1"
				}
			}
		],
		"relationship": [
			{
				"product_reference": "postgresql94-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			},
			{
				"product_reference": "postgresql94-contrib-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			},
			{
				"product_reference": "postgresql94-devel-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			},
			{
				"product_reference": "postgresql94-docs-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			},
			{
				"product_reference": "postgresql94-libs-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			},
			{
				"product_reference": "postgresql94-plperl-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			},
			{
				"product_reference": "postgresql94-plpython-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			},
			{
				"product_reference": "postgresql94-pltcl-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			},
			{
				"product_reference": "postgresql94-server-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			},
			{
				"product_reference": "postgresql94-test-9.4.12-9.6.1",
				"relation_type": "Default Component Of",
				"relates_to_product_reference": "openSUSE Leap 42.2"
			}
		]
	},
	"vulnerability": [
		{
			"notes": [
				{
					"text": "It was found that some selectivity estimation functions in PostgreSQL before 9.2.21, 9.3.x before 9.3.17, 9.4.x before 9.4.12, 9.5.x before 9.5.7, and 9.6.x before 9.6.3 did not check user privileges before providing information from pg_statistic, possibly leaking information. An unprivileged attacker could use this flaw to steal some information from tables they are otherwise not allowed to access.",
					"title": "Vulnerability Description",
					"type": "General"
				}
			],
			"cve": "CVE-2017-7484",
			"product_statuses": [
				{
					"type": "Fixed",
					"product_id": [
						"openSUSE Leap 42.2:postgresql94-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-contrib-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-devel-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-docs-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-libs-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-plperl-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-plpython-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-pltcl-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-server-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-test-9.4.12-9.6.1"
					]
				}
			],
			"threats": [
				{
					"type": "Impact",
					"description": "moderate"
				}
			],
			"cvss_score_sets": {
				"score_set_v_2": {
					"base_score_v_2": "3.5",
					"vector_v_2": "AV:N/AC:M/Au:S/C:P/I:N/A:N"
				},
				"score_set_v_3": {
					"base_score_v_3": "7.5",
					"vector_v_3": "CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N"
				},
				"scoreset": {}
			},
			"remediations": [
				{
					"type": "Vendor Fix",
					"description": {
						"text": "Please Install the update.",
						"lang": "en"
					},
					"url": "https://lists.opensuse.org/opensuse-updates/2017-07/msg00016.html"
				}
			],
			"references": [
				{
					"url": "https://www.suse.com/security/cve/CVE-2017-7484.html",
					"description": "CVE-2017-7484"
				},
				{
					"url": "https://bugzilla.suse.com/1037603",
					"description": "SUSE Bug 1037603"
				},
				{
					"url": "https://bugzilla.suse.com/1051015",
					"description": "SUSE Bug 1051015"
				}
			]
		},
		{
			"notes": [
				{
					"text": "In PostgreSQL 9.3.x before 9.3.17, 9.4.x before 9.4.12, 9.5.x before 9.5.7, and 9.6.x before 9.6.3, it was found that the PGREQUIRESSL environment variable was no longer enforcing a SSL/TLS connection to a PostgreSQL server. An active Man-in-the-Middle attacker could use this flaw to strip the SSL/TLS protection from a connection between a client and a server.",
					"title": "Vulnerability Description",
					"type": "General"
				}
			],
			"cve": "CVE-2017-7485",
			"product_statuses": [
				{
					"type": "Fixed",
					"product_id": [
						"openSUSE Leap 42.2:postgresql94-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-contrib-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-devel-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-docs-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-libs-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-plperl-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-plpython-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-pltcl-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-server-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-test-9.4.12-9.6.1"
					]
				}
			],
			"threats": [
				{
					"type": "Impact",
					"description": "moderate"
				}
			],
			"cvss_score_sets": {
				"score_set_v_2": {
					"base_score_v_2": "5.8",
					"vector_v_2": "AV:N/AC:M/Au:N/C:P/I:P/A:N"
				},
				"score_set_v_3": {
					"base_score_v_3": "5.9",
					"vector_v_3": "CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:H/A:N"
				},
				"scoreset": {}
			},
			"remediations": [
				{
					"type": "Vendor Fix",
					"description": {
						"text": "Please Install the update.",
						"lang": "en"
					},
					"url": "https://lists.opensuse.org/opensuse-updates/2017-07/msg00016.html"
				}
			],
			"references": [
				{
					"url": "https://www.suse.com/security/cve/CVE-2017-7485.html",
					"description": "CVE-2017-7485"
				},
				{
					"url": "https://bugzilla.suse.com/1038293",
					"description": "SUSE Bug 1038293"
				},
				{
					"url": "https://bugzilla.suse.com/1051015",
					"description": "SUSE Bug 1051015"
				}
			]
		},
		{
			"notes": [
				{
					"text": "PostgreSQL versions 8.4 - 9.6 are vulnerable to information leak in pg_user_mappings view which discloses foreign server passwords to any user having USAGE privilege on the associated foreign server.",
					"title": "Vulnerability Description",
					"type": "General"
				}
			],
			"cve": "CVE-2017-7486",
			"product_statuses": [
				{
					"type": "Fixed",
					"product_id": [
						"openSUSE Leap 42.2:postgresql94-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-contrib-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-devel-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-docs-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-libs-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-plperl-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-plpython-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-pltcl-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-server-9.4.12-9.6.1",
						"openSUSE Leap 42.2:postgresql94-test-9.4.12-9.6.1"
					]
				}
			],
			"threats": [
				{
					"type": "Impact",
					"description": "moderate"
				}
			],
			"cvss_score_sets": {
				"score_set_v_2": {
					"base_score_v_2": "3.5",
					"vector_v_2": "AV:N/AC:M/Au:S/C:P/I:N/A:N"
				},
				"score_set_v_3": {
					"base_score_v_3": "7.5",
					"vector_v_3": "CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N"
				},
				"scoreset": {}
			},
			"remediations": [
				{
					"type": "Vendor Fix",
					"description": {
						"text": "Please Install the update.",
						"lang": "en"
					},
					"url": "https://lists.opensuse.org/opensuse-updates/2017-07/msg00016.html"
				}
			],
			"references": [
				{
					"url": "https://www.suse.com/security/cve/CVE-2017-7486.html",
					"description": "CVE-2017-7486"
				},
				{
					"url": "https://bugzilla.suse.com/1037624",
					"description": "SUSE Bug 1037624"
				},
				{
					"url": "https://bugzilla.suse.com/1051015",
					"description": "SUSE Bug 1051015"
				},
				{
					"url": "https://bugzilla.suse.com/1051685",
					"description": "SUSE Bug 1051685"
				}
			]
		}
	]
}
